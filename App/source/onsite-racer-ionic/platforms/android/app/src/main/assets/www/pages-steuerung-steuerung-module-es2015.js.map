{"version":3,"sources":["./node_modules/nipplejs/dist/nipplejs.js","./src/app/pages/steuerung/steuerung.page.html","./src/app/pages/steuerung/steuerung.module.ts","./src/app/pages/steuerung/steuerung.page.scss","./src/app/pages/steuerung/steuerung.page.ts"],"names":[],"mappings":";;;;;;;;;AAAA,aAAa,GAAG,IAAsD,EAAE,mBAAmB,KAAK,UAAiO,CAAC,aAAa;AAC/U;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,oDAAoD,SAAS;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wCAAwC,SAAS;AACjD;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,gBAAgB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,SAAS;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT,KAAK;;AAEL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,CAAC;;;;;;;;;;;;AC35CD,0WAA0W,cAAc,4LAA4L,kEAAkE,iBAAiB,2iCAA2iC,+K;;;;;;;;;;;;;;;;;;;;;;ACAzoD;AACM;AACF;AACU;AACV;AACI;AAEjD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,6DAAa;KACzB;CACF,CAAC;AAWF,IAAa,mBAAmB,GAAhC,MAAa,mBAAmB;CAAG;AAAtB,mBAAmB;IAT/B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;SAC9B;QACD,YAAY,EAAE,CAAC,6DAAa,CAAC;KAC9B,CAAC;GACW,mBAAmB,CAAG;AAAH;;;;;;;;;;;;ACvBhC,qCAAqC,qB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","file":"pages-steuerung-steuerung-module-es2015.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.nipplejs = f()}})(function(){var define,module,exports;\n'use strict';\n\n// Constants\nvar isTouch = !!('ontouchstart' in window);\nvar isPointer = window.PointerEvent ? true : false;\nvar isMSPointer = window.MSPointerEvent ? true : false;\nvar events = {\n    touch: {\n        start: 'touchstart',\n        move: 'touchmove',\n        end: 'touchend, touchcancel'\n    },\n    mouse: {\n        start: 'mousedown',\n        move: 'mousemove',\n        end: 'mouseup'\n    },\n    pointer: {\n        start: 'pointerdown',\n        move: 'pointermove',\n        end: 'pointerup'\n    },\n    MSPointer: {\n        start: 'MSPointerDown',\n        move: 'MSPointerMove',\n        end: 'MSPointerUp'\n    }\n};\nvar toBind;\nvar secondBind = {};\nif (isPointer) {\n    toBind = events.pointer;\n} else if (isMSPointer) {\n    toBind = events.MSPointer;\n} else if (isTouch) {\n    toBind = events.touch;\n    secondBind = events.mouse;\n} else {\n    toBind = events.mouse;\n}\n\n///////////////////////\n///      UTILS      ///\n///////////////////////\n\nvar u = {};\nu.distance = function (p1, p2) {\n    var dx = p2.x - p1.x;\n    var dy = p2.y - p1.y;\n\n    return Math.sqrt((dx * dx) + (dy * dy));\n};\n\nu.angle = function(p1, p2) {\n    var dx = p2.x - p1.x;\n    var dy = p2.y - p1.y;\n\n    return u.degrees(Math.atan2(dy, dx));\n};\n\nu.findCoord = function(p, d, a) {\n    var b = {x: 0, y: 0};\n    a = u.radians(a);\n    b.x = p.x - d * Math.cos(a);\n    b.y = p.y - d * Math.sin(a);\n    return b;\n};\n\nu.radians = function(a) {\n    return a * (Math.PI / 180);\n};\n\nu.degrees = function(a) {\n    return a * (180 / Math.PI);\n};\n\nu.bindEvt = function (el, arg, handler) {\n    var types = arg.split(/[ ,]+/g);\n    var type;\n    for (var i = 0; i < types.length; i += 1) {\n        type = types[i];\n        if (el.addEventListener) {\n            el.addEventListener(type, handler, false);\n        } else if (el.attachEvent) {\n            el.attachEvent(type, handler);\n        }\n    }\n};\n\nu.unbindEvt = function (el, arg, handler) {\n    var types = arg.split(/[ ,]+/g);\n    var type;\n    for (var i = 0; i < types.length; i += 1) {\n        type = types[i];\n        if (el.removeEventListener) {\n            el.removeEventListener(type, handler);\n        } else if (el.detachEvent) {\n            el.detachEvent(type, handler);\n        }\n    }\n};\n\nu.trigger = function (el, type, data) {\n    var evt = new CustomEvent(type, data);\n    el.dispatchEvent(evt);\n};\n\nu.prepareEvent = function (evt) {\n    evt.preventDefault();\n    return evt.type.match(/^touch/) ? evt.changedTouches : evt;\n};\n\nu.getScroll = function () {\n    var x = (window.pageXOffset !== undefined) ?\n        window.pageXOffset :\n        (document.documentElement || document.body.parentNode || document.body)\n            .scrollLeft;\n\n    var y = (window.pageYOffset !== undefined) ?\n        window.pageYOffset :\n        (document.documentElement || document.body.parentNode || document.body)\n            .scrollTop;\n    return {\n        x: x,\n        y: y\n    };\n};\n\nu.applyPosition = function (el, pos) {\n    if (pos.x && pos.y) {\n        el.style.left = pos.x + 'px';\n        el.style.top = pos.y + 'px';\n    } else if (pos.top || pos.right || pos.bottom || pos.left) {\n        el.style.top = pos.top;\n        el.style.right = pos.right;\n        el.style.bottom = pos.bottom;\n        el.style.left = pos.left;\n    }\n};\n\nu.getTransitionStyle = function (property, values, time) {\n    var obj = u.configStylePropertyObject(property);\n    for (var i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (typeof values === 'string') {\n                obj[i] = values + ' ' + time;\n            } else {\n                var st = '';\n                for (var j = 0, max = values.length; j < max; j += 1) {\n                    st += values[j] + ' ' + time + ', ';\n                }\n                obj[i] = st.slice(0, -2);\n            }\n        }\n    }\n    return obj;\n};\n\nu.getVendorStyle = function (property, value) {\n    var obj = u.configStylePropertyObject(property);\n    for (var i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            obj[i] = value;\n        }\n    }\n    return obj;\n};\n\nu.configStylePropertyObject = function (prop) {\n    var obj = {};\n    obj[prop] = '';\n    var vendors = ['webkit', 'Moz', 'o'];\n    vendors.forEach(function (vendor) {\n        obj[vendor + prop.charAt(0).toUpperCase() + prop.slice(1)] = '';\n    });\n    return obj;\n};\n\nu.extend = function (objA, objB) {\n    for (var i in objB) {\n        if (objB.hasOwnProperty(i)) {\n            objA[i] = objB[i];\n        }\n    }\n    return objA;\n};\n\n// Overwrite only what's already present\nu.safeExtend = function (objA, objB) {\n    var obj = {};\n    for (var i in objA) {\n        if (objA.hasOwnProperty(i) && objB.hasOwnProperty(i)) {\n            obj[i] = objB[i];\n        } else if (objA.hasOwnProperty(i)) {\n            obj[i] = objA[i];\n        }\n    }\n    return obj;\n};\n\n// Map for array or unique item.\nu.map = function (ar, fn) {\n    if (ar.length) {\n        for (var i = 0, max = ar.length; i < max; i += 1) {\n            fn(ar[i]);\n        }\n    } else {\n        fn(ar);\n    }\n};\n\n///////////////////////\n///   SUPER CLASS   ///\n///////////////////////\n\nfunction Super () {};\n\n// Basic event system.\nSuper.prototype.on = function (arg, cb) {\n    var self = this;\n    var types = arg.split(/[ ,]+/g);\n    var type;\n    self._handlers_ = self._handlers_ || {};\n\n    for (var i = 0; i < types.length; i += 1) {\n        type = types[i];\n        self._handlers_[type] = self._handlers_[type] || [];\n        self._handlers_[type].push(cb);\n    }\n    return self;\n};\n\nSuper.prototype.off = function (type, cb) {\n    var self = this;\n    self._handlers_ = self._handlers_ || {};\n\n    if (type === undefined) {\n        self._handlers_ = {};\n    } else if (cb === undefined) {\n        self._handlers_[type] = null;\n    } else if (self._handlers_[type] &&\n            self._handlers_[type].indexOf(cb) >= 0) {\n        self._handlers_[type].splice(self._handlers_[type].indexOf(cb), 1);\n    }\n\n    return self;\n};\n\nSuper.prototype.trigger = function (arg, data) {\n    var self = this;\n    var types = arg.split(/[ ,]+/g);\n    var type;\n    self._handlers_ = self._handlers_ || {};\n\n    for (var i = 0; i < types.length; i += 1) {\n        type = types[i];\n        if (self._handlers_[type] && self._handlers_[type].length) {\n            self._handlers_[type].forEach(function (handler) {\n                handler.call(self, {\n                    type: type,\n                    target: self\n                }, data);\n            });\n        }\n    }\n};\n\n// Configuration\nSuper.prototype.config = function (options) {\n    var self = this;\n    self.options = self.defaults || {};\n    if (options) {\n        self.options = u.safeExtend(self.options, options);\n    }\n};\n\n// Bind internal events.\nSuper.prototype.bindEvt = function (el, type) {\n    var self = this;\n    self._domHandlers_ = self._domHandlers_ || {};\n\n    self._domHandlers_[type] = function () {\n        if (typeof self['on' + type] === 'function') {\n            self['on' + type].apply(self, arguments);\n        } else {\n            console.warn('[WARNING] : Missing \"on' + type + '\" handler.');\n        }\n    };\n\n    u.bindEvt(el, toBind[type], self._domHandlers_[type]);\n\n    if (secondBind[type]) {\n        // Support for both touch and mouse at the same time.\n        u.bindEvt(el, secondBind[type], self._domHandlers_[type]);\n    }\n\n    return self;\n};\n\n// Unbind dom events.\nSuper.prototype.unbindEvt = function (el, type) {\n    var self = this;\n    self._domHandlers_ = self._domHandlers_ || {};\n\n    u.unbindEvt(el, toBind[type], self._domHandlers_[type]);\n\n    if (secondBind[type]) {\n        // Support for both touch and mouse at the same time.\n        u.unbindEvt(el, secondBind[type], self._domHandlers_[type]);\n    }\n\n    delete self._domHandlers_[type];\n\n    return this;\n};\n\n///////////////////////\n///   THE NIPPLE    ///\n///////////////////////\n\nfunction Nipple (collection, options) {\n    this.identifier = options.identifier;\n    this.position = options.position;\n    this.frontPosition = options.frontPosition;\n    this.collection = collection;\n\n    // Defaults\n    this.defaults = {\n        size: 100,\n        threshold: 0.1,\n        color: 'white',\n        fadeTime: 250,\n        dataOnly: false,\n        restJoystick: true,\n        restOpacity: 0.5,\n        mode: 'dynamic',\n        zone: document.body\n    };\n\n    this.config(options);\n\n    // Overwrites\n    if (this.options.mode === 'dynamic') {\n        this.options.restOpacity = 0;\n    }\n\n    this.id = Nipple.id;\n    Nipple.id += 1;\n    this.buildEl()\n        .stylize();\n\n    // Nipple's API.\n    this.instance = {\n        el: this.ui.el,\n        on: this.on.bind(this),\n        off: this.off.bind(this),\n        show: this.show.bind(this),\n        hide: this.hide.bind(this),\n        add: this.addToDom.bind(this),\n        remove: this.removeFromDom.bind(this),\n        destroy: this.destroy.bind(this),\n        resetDirection: this.resetDirection.bind(this),\n        computeDirection: this.computeDirection.bind(this),\n        trigger: this.trigger.bind(this),\n        position: this.position,\n        frontPosition: this.frontPosition,\n        ui: this.ui,\n        identifier: this.identifier,\n        id: this.id,\n        options: this.options\n    };\n\n    return this.instance;\n};\n\nNipple.prototype = new Super();\nNipple.constructor = Nipple;\nNipple.id = 0;\n\n// Build the dom element of the Nipple instance.\nNipple.prototype.buildEl = function (options) {\n    this.ui = {};\n\n    if (this.options.dataOnly) {\n        return this;\n    }\n\n    this.ui.el = document.createElement('div');\n    this.ui.back = document.createElement('div');\n    this.ui.front = document.createElement('div');\n\n    this.ui.el.className = 'nipple collection_' + this.collection.id;\n    this.ui.back.className = 'back';\n    this.ui.front.className = 'front';\n\n    this.ui.el.setAttribute('id', 'nipple_' + this.collection.id +\n        '_' + this.id);\n\n    this.ui.el.appendChild(this.ui.back);\n    this.ui.el.appendChild(this.ui.front);\n\n    return this;\n};\n\n// Apply CSS to the Nipple instance.\nNipple.prototype.stylize = function () {\n    if (this.options.dataOnly) {\n        return this;\n    }\n    var animTime = this.options.fadeTime + 'ms';\n    var borderStyle = u.getVendorStyle('borderRadius', '50%');\n    var transitStyle = u.getTransitionStyle('transition', 'opacity', animTime);\n    var styles = {};\n    styles.el = {\n        position: 'absolute',\n        opacity: this.options.restOpacity,\n        display: 'block',\n        'zIndex': 999\n    };\n\n    styles.back = {\n        position: 'absolute',\n        display: 'block',\n        width: this.options.size + 'px',\n        height: this.options.size + 'px',\n        marginLeft: -this.options.size / 2 + 'px',\n        marginTop: -this.options.size / 2 + 'px',\n        background: this.options.color,\n        'opacity': '.5'\n    };\n\n    styles.front = {\n        width: this.options.size / 2 + 'px',\n        height: this.options.size / 2 + 'px',\n        position: 'absolute',\n        display: 'block',\n        marginLeft: -this.options.size / 4 + 'px',\n        marginTop: -this.options.size / 4 + 'px',\n        background: this.options.color,\n        'opacity': '.5'\n    };\n\n    u.extend(styles.el, transitStyle);\n    u.extend(styles.back, borderStyle);\n    u.extend(styles.front, borderStyle);\n\n    this.applyStyles(styles);\n\n    return this;\n};\n\nNipple.prototype.applyStyles = function (styles) {\n    // Apply styles\n    for (var i in this.ui) {\n        if (this.ui.hasOwnProperty(i)) {\n            for (var j in styles[i]) {\n                this.ui[i].style[j] = styles[i][j];\n            }\n        }\n    }\n\n    return this;\n};\n\n// Inject the Nipple instance into DOM.\nNipple.prototype.addToDom = function () {\n    // We're not adding it if we're dataOnly or already in dom.\n    if (this.options.dataOnly || document.body.contains(this.ui.el)) {\n        return this;\n    }\n    this.options.zone.appendChild(this.ui.el);\n    return this;\n};\n\n// Remove the Nipple instance from DOM.\nNipple.prototype.removeFromDom = function () {\n    if (this.options.dataOnly || !document.body.contains(this.ui.el)) {\n        return this;\n    }\n    this.options.zone.removeChild(this.ui.el);\n    return this;\n};\n\n// Entirely destroy this nipple\nNipple.prototype.destroy = function () {\n    clearTimeout(this.removeTimeout);\n    clearTimeout(this.showTimeout);\n    clearTimeout(this.restTimeout);\n    this.trigger('destroyed', this.instance);\n    this.removeFromDom();\n    this.off();\n};\n\n// Fade in the Nipple instance.\nNipple.prototype.show = function (cb) {\n    var self = this;\n\n    if (self.options.dataOnly) {\n        return self;\n    }\n\n    clearTimeout(self.removeTimeout);\n    clearTimeout(self.showTimeout);\n    clearTimeout(self.restTimeout);\n\n    self.addToDom();\n\n    self.restCallback();\n\n    setTimeout(function () {\n        self.ui.el.style.opacity = 1;\n    }, 0);\n\n    self.showTimeout = setTimeout(function () {\n        self.trigger('shown', self.instance);\n        if (typeof cb === 'function') {\n            cb.call(this);\n        }\n    }, self.options.fadeTime);\n\n    return self;\n};\n\n// Fade out the Nipple instance.\nNipple.prototype.hide = function (cb) {\n    var self = this;\n\n    if (self.options.dataOnly) {\n        return self;\n    }\n\n    self.ui.el.style.opacity = self.options.restOpacity;\n\n    clearTimeout(self.removeTimeout);\n    clearTimeout(self.showTimeout);\n    clearTimeout(self.restTimeout);\n\n    self.removeTimeout = setTimeout(\n        function () {\n            var display = self.options.mode === 'dynamic' ? 'none' : 'block';\n            self.ui.el.style.display = display;\n            if (typeof cb === 'function') {\n                cb.call(self);\n            }\n\n            self.trigger('hidden', self.instance);\n        },\n        self.options.fadeTime\n    );\n    if (self.options.restJoystick) {\n        self.restPosition();\n    }\n\n    return self;\n};\n\nNipple.prototype.restPosition = function (cb) {\n    var self = this;\n    self.frontPosition = {\n        x: 0,\n        y: 0\n    };\n    var animTime = self.options.fadeTime + 'ms';\n\n    var transitStyle = {};\n    transitStyle.front = u.getTransitionStyle('transition',\n        ['top', 'left'], animTime);\n\n    var styles = {front: {}};\n    styles.front = {\n        left: self.frontPosition.x + 'px',\n        top: self.frontPosition.y + 'px'\n    };\n\n    self.applyStyles(transitStyle);\n    self.applyStyles(styles);\n\n    self.restTimeout = setTimeout(\n        function () {\n            if (typeof cb === 'function') {\n                cb.call(self);\n            }\n            self.restCallback();\n        },\n        self.options.fadeTime\n    );\n};\n\nNipple.prototype.restCallback = function () {\n    var self = this;\n    var transitStyle = {};\n    transitStyle.front = u.getTransitionStyle('transition', 'none', '');\n    self.applyStyles(transitStyle);\n    self.trigger('rested', self.instance);\n};\n\nNipple.prototype.resetDirection = function () {\n    // Fully rebuild the object to let the iteration possible.\n    this.direction = {\n        x: false,\n        y: false,\n        angle: false\n    };\n};\n\nNipple.prototype.computeDirection = function (obj) {\n    var rAngle = obj.angle.radian;\n    var angle45 = Math.PI / 4;\n    var angle90 = Math.PI / 2;\n    var direction, directionX, directionY;\n\n    // Angular direction\n    //     \\  UP /\n    //      \\   /\n    // LEFT       RIGHT\n    //      /   \\\n    //     /DOWN \\\n    //\n    if (rAngle > angle45 && rAngle < (angle45 * 3)) {\n        direction = 'up';\n    } else if (rAngle > -angle45 && rAngle <= angle45) {\n        direction = 'left';\n    } else if (rAngle > (-angle45 * 3) && rAngle <= -angle45) {\n        direction = 'down';\n    } else {\n        direction = 'right';\n    }\n\n    // Plain direction\n    //    UP                 |\n    // _______               | RIGHT\n    //                  LEFT |\n    //   DOWN                |\n    if (rAngle > -angle90 && rAngle < angle90) {\n        directionX = 'left';\n    } else {\n        directionX = 'right';\n    }\n\n    if (rAngle > 0) {\n        directionY = 'up';\n    } else {\n        directionY = 'down';\n    }\n\n    if (obj.force > this.options.threshold) {\n        var oldDirection = {};\n        for (var i in this.direction) {\n            if (this.direction.hasOwnProperty(i)) {\n                oldDirection[i] = this.direction[i];\n            }\n        }\n\n        var same = {};\n\n        this.direction = {\n            x: directionX,\n            y: directionY,\n            angle: direction\n        };\n\n        obj.direction = this.direction;\n\n        for (var i in oldDirection) {\n            if (oldDirection[i] === this.direction[i]) {\n                same[i] = true;\n            }\n        }\n\n        // If all 3 directions are the same, we don't trigger anything.\n        if (same.x && same.y && same.angle) {\n            return obj;\n        }\n\n        if (!same.x || !same.y) {\n            this.trigger('plain', obj);\n        }\n\n        if (!same.x) {\n            this.trigger('plain:' + directionX, obj);\n        }\n\n        if (!same.y) {\n            this.trigger('plain:' + directionY, obj);\n        }\n\n        if (!same.angle) {\n            this.trigger('dir dir:' + direction, obj);\n        }\n    }\n    return obj;\n};\n\n/* global Nipple, Super */\n\n///////////////////////////\n///   THE COLLECTION    ///\n///////////////////////////\n\nfunction Collection (manager, options) {\n    var self = this;\n    self.nipples = [];\n    self.idles = [];\n    self.actives = [];\n    self.ids = [];\n    self.pressureIntervals = {};\n    self.manager = manager;\n    self.id = Collection.id;\n    Collection.id += 1;\n\n    // Defaults\n    self.defaults = {\n        zone: document.body,\n        multitouch: false,\n        maxNumberOfNipples: 10,\n        mode: 'dynamic',\n        position: {top: 0, left: 0},\n        catchDistance: 200,\n        size: 100,\n        threshold: 0.1,\n        color: 'white',\n        fadeTime: 250,\n        dataOnly: false,\n        restJoystick: true,\n        restOpacity: 0.5\n    };\n\n    self.config(options);\n\n    // Overwrites\n    if (self.options.mode === 'static' || self.options.mode === 'semi') {\n        self.options.multitouch = false;\n    }\n\n    if (!self.options.multitouch) {\n        self.options.maxNumberOfNipples = 1;\n    }\n\n    self.updateBox();\n    self.prepareNipples();\n    self.bindings();\n    self.begin();\n\n    return self.nipples;\n}\n\nCollection.prototype = new Super();\nCollection.constructor = Collection;\nCollection.id = 0;\n\nCollection.prototype.prepareNipples = function () {\n    var self = this;\n    var nips = self.nipples;\n\n    // Public API Preparation.\n    nips.on = self.on.bind(self);\n    nips.off = self.off.bind(self);\n    nips.options = self.options;\n    nips.destroy = self.destroy.bind(self);\n    nips.ids = self.ids;\n    nips.id = self.id;\n    nips.processOnMove = self.processOnMove.bind(self);\n    nips.processOnEnd = self.processOnEnd.bind(self);\n    nips.get = function (id) {\n        if (id === undefined) {\n            return nips[0];\n        }\n        for (var i = 0, max = nips.length; i < max; i += 1) {\n            if (nips[i].identifier === id) {\n                return nips[i];\n            }\n        }\n        return false;\n    };\n};\n\nCollection.prototype.bindings = function () {\n    var self = this;\n    // Touch start event.\n    self.bindEvt(self.options.zone, 'start');\n    // Avoid native touch actions (scroll, zoom etc...) on the zone.\n    self.options.zone.style.touchAction = 'none';\n    self.options.zone.style.msTouchAction = 'none';\n};\n\nCollection.prototype.begin = function () {\n    var self = this;\n    var opts = self.options;\n\n    // We place our static nipple\n    // if needed.\n    if (opts.mode === 'static') {\n        var nipple = self.createNipple(\n            opts.position,\n            self.manager.getIdentifier()\n        );\n        // Add it to the dom.\n        nipple.add();\n        // Store it in idles.\n        self.idles.push(nipple);\n    }\n};\n\n// Nipple Factory\nCollection.prototype.createNipple = function (position, identifier) {\n    var self = this;\n    var scroll = u.getScroll();\n    var toPutOn = {};\n    var opts = self.options;\n\n    if (position.x && position.y) {\n        toPutOn = {\n            x: position.x -\n                (scroll.x + self.box.left),\n            y: position.y -\n                (scroll.y + self.box.top)\n        };\n    } else if (\n            position.top ||\n            position.right ||\n            position.bottom ||\n            position.left\n        ) {\n\n        // We need to compute the position X / Y of the joystick.\n        var dumb = document.createElement('DIV');\n        dumb.style.display = 'hidden';\n        dumb.style.top = position.top;\n        dumb.style.right = position.right;\n        dumb.style.bottom = position.bottom;\n        dumb.style.left = position.left;\n        dumb.style.position = 'absolute';\n\n        opts.zone.appendChild(dumb);\n        var dumbBox = dumb.getBoundingClientRect();\n        opts.zone.removeChild(dumb);\n\n        toPutOn = position;\n        position = {\n            x: dumbBox.left + scroll.x,\n            y: dumbBox.top + scroll.y\n        };\n    }\n\n    var nipple = new Nipple(self, {\n        color: opts.color,\n        size: opts.size,\n        threshold: opts.threshold,\n        fadeTime: opts.fadeTime,\n        dataOnly: opts.dataOnly,\n        restJoystick: opts.restJoystick,\n        restOpacity: opts.restOpacity,\n        mode: opts.mode,\n        identifier: identifier,\n        position: position,\n        zone: opts.zone,\n        frontPosition: {\n            x: 0,\n            y: 0\n        }\n    });\n\n    if (!opts.dataOnly) {\n        u.applyPosition(nipple.ui.el, toPutOn);\n        u.applyPosition(nipple.ui.front, nipple.frontPosition);\n    }\n    self.nipples.push(nipple);\n    self.trigger('added ' + nipple.identifier + ':added', nipple);\n    self.manager.trigger('added ' + nipple.identifier + ':added', nipple);\n\n    self.bindNipple(nipple);\n\n    return nipple;\n};\n\nCollection.prototype.updateBox = function () {\n    var self = this;\n    self.box = self.options.zone.getBoundingClientRect();\n};\n\nCollection.prototype.bindNipple = function (nipple) {\n    var self = this;\n    var type;\n    // Bubble up identified events.\n    var handler = function (evt, data) {\n        // Identify the event type with the nipple's id.\n        type = evt.type + ' ' + data.id + ':' + evt.type;\n        self.trigger(type, data);\n    };\n\n    // When it gets destroyed.\n    nipple.on('destroyed', self.onDestroyed.bind(self));\n\n    // Other events that will get bubbled up.\n    nipple.on('shown hidden rested dir plain', handler);\n    nipple.on('dir:up dir:right dir:down dir:left', handler);\n    nipple.on('plain:up plain:right plain:down plain:left', handler);\n};\n\nCollection.prototype.pressureFn = function (touch, nipple, identifier) {\n    var self = this;\n    var previousPressure = 0;\n    clearInterval(self.pressureIntervals[identifier]);\n    // Create an interval that will read the pressure every 100ms\n    self.pressureIntervals[identifier] = setInterval(function () {\n        var pressure = touch.force || touch.pressure ||\n            touch.webkitForce || 0;\n        if (pressure !== previousPressure) {\n            nipple.trigger('pressure', pressure);\n            self.trigger('pressure ' +\n                nipple.identifier + ':pressure', pressure);\n            previousPressure = pressure;\n        }\n    }.bind(self), 100);\n};\n\nCollection.prototype.onstart = function (evt) {\n    var self = this;\n    var opts = self.options;\n    evt = u.prepareEvent(evt);\n\n    // Update the box position\n    self.updateBox();\n\n    var process = function (touch) {\n        // If we can create new nipples\n        // meaning we don't have more active nipples than we should.\n        if (self.actives.length < opts.maxNumberOfNipples) {\n            self.processOnStart(touch);\n        }\n    };\n\n    u.map(evt, process);\n\n    // We ask upstream to bind the document\n    // on 'move' and 'end'\n    self.manager.bindDocument();\n    return false;\n};\n\nCollection.prototype.processOnStart = function (evt) {\n    var self = this;\n    var opts = self.options;\n    var indexInIdles;\n    var identifier = self.manager.getIdentifier(evt);\n    var pressure = evt.force || evt.pressure || evt.webkitForce || 0;\n    var position = {\n        x: evt.pageX,\n        y: evt.pageY\n    };\n\n    var nipple = self.getOrCreate(identifier, position);\n\n    // Update its touch identifier\n    if (nipple.identifier !== identifier) {\n        self.manager.removeIdentifier(nipple.identifier);\n    }\n    nipple.identifier = identifier;\n\n    var process = function (nip) {\n        // Trigger the start.\n        nip.trigger('start', nip);\n        self.trigger('start ' + nip.id + ':start', nip);\n\n        nip.show();\n        if (pressure > 0) {\n            self.pressureFn(evt, nip, nip.identifier);\n        }\n        // Trigger the first move event.\n        self.processOnMove(evt);\n    };\n\n    // Transfer it from idles to actives.\n    if ((indexInIdles = self.idles.indexOf(nipple)) >= 0) {\n        self.idles.splice(indexInIdles, 1);\n    }\n\n    // Store the nipple in the actives array\n    self.actives.push(nipple);\n    self.ids.push(nipple.identifier);\n\n    if (opts.mode !== 'semi') {\n        process(nipple);\n    } else {\n        // In semi we check the distance of the touch\n        // to decide if we have to reset the nipple\n        var distance = u.distance(position, nipple.position);\n        if (distance <= opts.catchDistance) {\n            process(nipple);\n        } else {\n            nipple.destroy();\n            self.processOnStart(evt);\n            return;\n        }\n    }\n\n    return nipple;\n};\n\nCollection.prototype.getOrCreate = function (identifier, position) {\n    var self = this;\n    var opts = self.options;\n    var nipple;\n\n    // If we're in static or semi, we might already have an active.\n    if (/(semi|static)/.test(opts.mode)) {\n        // Get the active one.\n        // TODO: Multi-touche for semi and static will start here.\n        // Return the nearest one.\n        nipple = self.idles[0];\n        if (nipple) {\n            self.idles.splice(0, 1);\n            return nipple;\n        }\n\n        if (opts.mode === 'semi') {\n            // If we're in semi mode, we need to create one.\n            return self.createNipple(position, identifier);\n        }\n\n        console.warn('Coudln\\'t find the needed nipple.');\n        return false;\n    }\n    // In dynamic, we create a new one.\n    nipple = self.createNipple(position, identifier);\n    return nipple;\n};\n\nCollection.prototype.processOnMove = function (evt) {\n    var self = this;\n    var opts = self.options;\n    var identifier = self.manager.getIdentifier(evt);\n    var nipple = self.nipples.get(identifier);\n\n    if (!nipple) {\n        // This is here just for safety.\n        // It shouldn't happen.\n        console.error('Found zombie joystick with ID ' + identifier);\n        self.manager.removeIdentifier(identifier);\n        return;\n    }\n\n    nipple.identifier = identifier;\n\n    var size = nipple.options.size / 2;\n    var pos = {\n        x: evt.pageX,\n        y: evt.pageY\n    };\n\n    var dist = u.distance(pos, nipple.position);\n    var angle = u.angle(pos, nipple.position);\n    var rAngle = u.radians(angle);\n    var force = dist / size;\n\n    // If distance is bigger than nipple's size\n    // we clamp the position.\n    if (dist > size) {\n        dist = size;\n        pos = u.findCoord(nipple.position, dist, angle);\n    }\n\n    nipple.frontPosition = {\n        x: pos.x - nipple.position.x,\n        y: pos.y - nipple.position.y\n    };\n\n    if (!opts.dataOnly) {\n        u.applyPosition(nipple.ui.front, nipple.frontPosition);\n    }\n\n    // Prepare event's datas.\n    var toSend = {\n        identifier: nipple.identifier,\n        position: pos,\n        force: force,\n        pressure: evt.force || evt.pressure || evt.webkitForce || 0,\n        distance: dist,\n        angle: {\n            radian: rAngle,\n            degree: angle\n        },\n        instance: nipple\n    };\n\n    // Compute the direction's datas.\n    toSend = nipple.computeDirection(toSend);\n\n    // Offset angles to follow units circle.\n    toSend.angle = {\n        radian: u.radians(180 - angle),\n        degree: 180 - angle\n    };\n\n    // Send everything to everyone.\n    nipple.trigger('move', toSend);\n    self.trigger('move ' + nipple.id + ':move', toSend);\n};\n\nCollection.prototype.processOnEnd = function (evt) {\n    var self = this;\n    var opts = self.options;\n    var identifier = self.manager.getIdentifier(evt);\n    var nipple = self.nipples.get(identifier);\n    var removedIdentifier = self.manager.removeIdentifier(nipple.identifier);\n\n    if (!nipple) {\n        return;\n    }\n\n    if (!opts.dataOnly) {\n        nipple.hide(function () {\n            if (opts.mode === 'dynamic') {\n                nipple.trigger('removed', nipple);\n                self.trigger('removed ' + nipple.id + ':removed', nipple);\n                self.manager\n                    .trigger('removed ' + nipple.id + ':removed', nipple);\n                nipple.destroy();\n            }\n        });\n    }\n\n    // Clear the pressure interval reader\n    clearInterval(self.pressureIntervals[nipple.identifier]);\n\n    // Reset the direciton of the nipple, to be able to trigger a new direction\n    // on start.\n    nipple.resetDirection();\n\n    nipple.trigger('end', nipple);\n    self.trigger('end ' + nipple.id + ':end', nipple);\n\n    // Remove identifier from our bank.\n    if (self.ids.indexOf(nipple.identifier) >= 0) {\n        self.ids.splice(self.ids.indexOf(nipple.identifier), 1);\n    }\n\n    // Clean our actives array.\n    if (self.actives.indexOf(nipple) >= 0) {\n        self.actives.splice(self.actives.indexOf(nipple), 1);\n    }\n\n    if (/(semi|static)/.test(opts.mode)) {\n        // Transfer nipple from actives to idles\n        // if we're in semi or static mode.\n        self.idles.push(nipple);\n    } else if (self.nipples.indexOf(nipple) >= 0) {\n        // Only if we're not in semi or static mode\n        // we can remove the instance.\n        self.nipples.splice(self.nipples.indexOf(nipple), 1);\n    }\n\n    // We unbind move and end.\n    self.manager.unbindDocument();\n\n    // We add back the identifier of the idle nipple;\n    if (/(semi|static)/.test(opts.mode)) {\n        self.manager.ids[removedIdentifier.id] = removedIdentifier.identifier;\n    }\n};\n\n// Remove destroyed nipple from the lists\nCollection.prototype.onDestroyed = function(evt, nipple) {\n    var self = this;\n    if (self.nipples.indexOf(nipple) >= 0) {\n        self.nipples.splice(self.nipples.indexOf(nipple), 1);\n    }\n    if (self.actives.indexOf(nipple) >= 0) {\n        self.actives.splice(self.actives.indexOf(nipple), 1);\n    }\n    if (self.idles.indexOf(nipple) >= 0) {\n        self.idles.splice(self.idles.indexOf(nipple), 1);\n    }\n    if (self.ids.indexOf(nipple.identifier) >= 0) {\n        self.ids.splice(self.ids.indexOf(nipple.identifier), 1);\n    }\n\n    // Remove the identifier from our bank\n    self.manager.removeIdentifier(nipple.identifier);\n\n    // We unbind move and end.\n    self.manager.unbindDocument();\n};\n\n// Cleanly destroy the manager\nCollection.prototype.destroy = function () {\n    var self = this;\n    self.unbindEvt(self.options.zone, 'start');\n\n    // Destroy nipples.\n    self.nipples.forEach(function(nipple) {\n        nipple.destroy();\n    });\n\n    // Clean 3DTouch intervals.\n    for (var i in self.pressureIntervals) {\n        if (self.pressureIntervals.hasOwnProperty(i)) {\n            clearInterval(self.pressureIntervals[i]);\n        }\n    }\n\n    // Notify the manager passing the instance\n    self.trigger('destroyed', self.nipples);\n    // We unbind move and end.\n    self.manager.unbindDocument();\n    // Unbind everything.\n    self.off();\n};\n\n/* global u, Super, Collection */\n\n///////////////////////\n///     MANAGER     ///\n///////////////////////\n\nfunction Manager (options) {\n    var self = this;\n    self.ids = {};\n    self.index = 0;\n    self.collections = [];\n\n    self.config(options);\n    self.prepareCollections();\n\n    // Listen for resize, to reposition every joysticks\n    var resizeTimer;\n    u.bindEvt(window, 'resize', function (evt) {\n        clearTimeout(resizeTimer);\n        resizeTimer = setTimeout(function () {\n            var pos;\n            var scroll = u.getScroll();\n            self.collections.forEach(function (collection) {\n                collection.forEach(function (nipple) {\n                    pos = nipple.el.getBoundingClientRect();\n                    nipple.position = {\n                        x: scroll.x + pos.left,\n                        y: scroll.y + pos.top\n                    };\n                });\n            });\n        }, 100);\n    });\n\n    return self.collections;\n};\n\nManager.prototype = new Super();\nManager.constructor = Manager;\n\nManager.prototype.prepareCollections = function () {\n    var self = this;\n    // Public API Preparation.\n    self.collections.create = self.create.bind(self);\n    // Listen to anything\n    self.collections.on = self.on.bind(self);\n    // Unbind general events\n    self.collections.off = self.off.bind(self);\n    // Destroy everything\n    self.collections.destroy = self.destroy.bind(self);\n    // Get any nipple\n    self.collections.get = function (id) {\n        var nipple;\n        self.collections.every(function (collection) {\n            if (nipple = collection.get(id)) {\n                return false;\n            }\n            return true;\n        });\n        return nipple;\n    };\n};\n\nManager.prototype.create = function (options) {\n    return this.createCollection(options);\n};\n\n// Collection Factory\nManager.prototype.createCollection = function (options) {\n    var self = this;\n    var collection = new Collection(self, options);\n\n    self.bindCollection(collection);\n    self.collections.push(collection);\n\n    return collection;\n};\n\nManager.prototype.bindCollection = function (collection) {\n    var self = this;\n    var type;\n    // Bubble up identified events.\n    var handler = function (evt, data) {\n        // Identify the event type with the nipple's identifier.\n        type = evt.type + ' ' + data.id + ':' + evt.type;\n        self.trigger(type, data);\n    };\n\n    // When it gets destroyed we clean.\n    collection.on('destroyed', self.onDestroyed.bind(self));\n\n    // Other events that will get bubbled up.\n    collection.on('shown hidden rested dir plain', handler);\n    collection.on('dir:up dir:right dir:down dir:left', handler);\n    collection.on('plain:up plain:right plain:down plain:left', handler);\n};\n\nManager.prototype.bindDocument = function () {\n    var self = this;\n    // Bind only if not already binded\n    if (!self.binded) {\n        self.bindEvt(document, 'move')\n            .bindEvt(document, 'end');\n        self.binded = true;\n    }\n};\n\nManager.prototype.unbindDocument = function (force) {\n    var self = this;\n    // If there are no touch left\n    // unbind the document.\n    if (!Object.keys(self.ids).length || force === true) {\n        self.unbindEvt(document, 'move')\n            .unbindEvt(document, 'end');\n        self.binded = false;\n    }\n};\n\nManager.prototype.getIdentifier = function (evt) {\n    var id;\n    // If no event, simple increment\n    if (!evt) {\n        id = this.index;\n    } else {\n        // Extract identifier from event object.\n        // Unavailable in mouse events so replaced by latest increment.\n        id = evt.identifier === undefined ? evt.pointerId : evt.identifier;\n        if (id === undefined) {\n            id = this.latest || 0;\n        }\n    }\n\n    if (this.ids[id] === undefined) {\n        this.ids[id] = this.index;\n        this.index += 1;\n    }\n\n    // Keep the latest id used in case we're using an unidentified mouseEvent\n    this.latest = id;\n    return this.ids[id];\n};\n\nManager.prototype.removeIdentifier = function (identifier) {\n    var removed = {};\n    for (var id in this.ids) {\n        if (this.ids[id] === identifier) {\n            removed.id = id;\n            removed.identifier = this.ids[id];\n            delete this.ids[id];\n            break;\n        }\n    }\n    return removed;\n};\n\nManager.prototype.onmove = function (evt) {\n    var self = this;\n    self.onAny('move', evt);\n    return false;\n};\n\nManager.prototype.onend = function (evt) {\n    var self = this;\n    self.onAny('end', evt);\n    return false;\n};\n\nManager.prototype.onAny = function (which, evt) {\n    var self = this;\n    var id;\n    var processFn = 'processOn' + which.charAt(0).toUpperCase() +\n        which.slice(1);\n    evt = u.prepareEvent(evt);\n    var processColl = function (e, id, coll) {\n        if (coll.ids.indexOf(id) >= 0) {\n            coll[processFn](e);\n            // Mark the event to avoid cleaning it later.\n            e._found_ = true;\n        }\n    };\n    var processEvt = function (e) {\n        id = self.getIdentifier(e);\n        u.map(self.collections, processColl.bind(null, e, id));\n        // If the event isn't handled by any collection,\n        // we need to clean its identifier.\n        if (!e._found_) {\n            self.removeIdentifier(id);\n        }\n    };\n\n    u.map(evt, processEvt);\n\n    return false;\n};\n\n// Cleanly destroy the manager\nManager.prototype.destroy = function () {\n    var self = this;\n    self.unbindDocument(true);\n    self.ids = {};\n    self.index = 0;\n    self.collections.forEach(function(collection) {\n        collection.destroy();\n    });\n    self.off();\n};\n\n// When a collection gets destroyed\n// we clean behind.\nManager.prototype.onDestroyed = function (evt, coll) {\n    var self = this;\n    if (self.collections.indexOf(coll) < 0) {\n        return false;\n    }\n    self.collections.splice(self.collections.indexOf(coll), 1);\n};\n\nvar factory = new Manager();\nreturn {\n    create: function (options) {\n        return factory.create(options);\n    },\n    factory: factory\n};\n\n});\n","module.exports = \"\\r\\n<ion-header>\\r\\n  <ion-toolbar color=\\\"dark\\\">\\r\\n    <div class=\\\"ion-text-center\\\">\\r\\n      <div>\\r\\n        <!--<ion-buttons>-->\\r\\n          <!--<ion-button color=\\\"primary\\\" (click)=\\\"disconnectFromRacer()\\\"><ion-icon slot=\\\"start\\\" name=\\\"arrow-back\\\"></ion-icon></ion-button>-->\\r\\n          <ion-button padding style=\\\"width: auto; height: auto;\\\" id=\\\"buttontxt\\\" fill=\\\"outline\\\" color=\\\"primary\\\" (click)=\\\"Scan()\\\">\\r\\n            <!--<ion-avatar>\\r\\n              <img src=\\\"assets/iotracer/Icons/icon.png\\\" style=\\\"width: 100%; height: 100%\\\">\\r\\n            </ion-avatar>-->\\r\\n            {{ connectbutton }}\\r\\n          </ion-button>\\r\\n        <!--</ion-buttons>-->\\r\\n      </div>\\r\\n  </div>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content color=\\\"dark\\\" scroll-y=\\\"false\\\" scroll-x=\\\"false\\\">\\r\\n  \\r\\n    <ion-img id=\\\"backgroundSkyline\\\" src=\\\"assets/iotracer/Background/skyline_color_steuerung.svg\\\"></ion-img>\\r\\n    <ion-img id=\\\"backgroundSkylineLandscape\\\" src=\\\"assets/iotracer/Background/skyline_color_Landscape.svg\\\"></ion-img>\\r\\n    <ion-img id=\\\"rotateTacho\\\" src=\\\"assets/iotracer/rotate_tacho_direction.svg\\\"></ion-img>\\r\\n    <div id=\\\"positionContArea\\\">\\r\\n      <ion-img id=\\\"backgroundRemote\\\" src=\\\"assets/iotracer/Background/remote_ground.svg\\\"></ion-img>\\r\\n      <div id=\\\"zone_joystick1\\\">\\r\\n        <ion-img src=\\\"assets/iotracer/button_outside.svg\\\"></ion-img>\\r\\n      </div>\\r\\n      <div id=\\\"zone_joystick2\\\">\\r\\n        <ion-img src=\\\"assets/iotracer/button_outside.svg\\\"></ion-img>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n</ion-content>\\r\\n<!--<ion-footer>\\r\\n  <ion-toolbar color=\\\"dark\\\">\\r\\n    <div margin style=\\\"width: 30%; float: right\\\">\\r\\n      <ion-img src=\\\"assets/iotracer/Logos/Logo T-Systems communication externe.png\\\"></ion-img>\\r\\n    </div>\\r\\n  </ion-toolbar>\\r\\n</ion-footer>-->\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { SteuerungPage } from './steuerung.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SteuerungPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n  ],\r\n  declarations: [SteuerungPage]\r\n})\r\nexport class SteuerungPageModule {}\r\n","module.exports = \".welcome-card img {\\n  max-height: 35vh;\\n  overflow: hidden;\\n}\\n\\n.zone {\\n  margin: 0;\\n  color: blue;\\n  right: 0;\\n  bottom: 0;\\n  background: rgba(255, 0, 0, 0.1);\\n}\\n\\n#buttontxt {\\n  font-size: 17px;\\n  font-weight: bold;\\n  font-style: italic;\\n}\\n\\n/* For portrait*/\\n\\n@media screen and (orientation: portrait) {\\n  #backgroundSkyline {\\n    position: absolute;\\n    bottom: 6%;\\n    height: 100%;\\n  }\\n\\n  #backgroundSkylineLandscape {\\n    display: none;\\n  }\\n\\n  #rotateTacho {\\n    width: 60%;\\n    margin: auto;\\n    margin-top: 10%;\\n  }\\n\\n  #positionContArea {\\n    position: absolute;\\n    bottom: 10%;\\n    width: 100%;\\n  }\\n\\n  #backgroundRemote {\\n    position: absolute;\\n    margin-top: -40%;\\n  }\\n\\n  #zone_joystick1 {\\n    width: 35%;\\n    float: left;\\n    position: relative;\\n    left: 0;\\n    top: 0;\\n    margin: auto;\\n  }\\n\\n  #zone_joystick2 {\\n    float: right;\\n    width: 35%;\\n    position: relative;\\n    left: 0;\\n    top: 0;\\n    margin: auto;\\n  }\\n}\\n\\n/* For landscape */\\n\\n@media screen and (orientation: landscape) {\\n  #backgroundSkyline {\\n    position: absolute;\\n    width: 100%;\\n    height: 100%;\\n    display: none;\\n  }\\n\\n  #backgroundSkylineLandscape {\\n    position: absolute;\\n    width: 100%;\\n  }\\n\\n  #backgroundRemote {\\n    position: absolute;\\n    margin-top: -23%;\\n  }\\n\\n  #rotateTacho {\\n    width: 25%;\\n    margin: auto;\\n    margin-top: 0;\\n  }\\n\\n  #positionContArea {\\n    position: absolute;\\n    bottom: 10%;\\n    width: 100%;\\n  }\\n\\n  #zone_joystick1 {\\n    width: 17%;\\n    float: left;\\n    position: relative;\\n    left: 5%;\\n    top: 0;\\n    margin: auto;\\n  }\\n\\n  #zone_joystick2 {\\n    float: right;\\n    width: 17%;\\n    position: relative;\\n    right: 5%;\\n    top: 0;\\n    margin: auto;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc3RldWVydW5nL0M6XFxVc2Vyc1xcY3BpdHRlcnNcXERFVlxcR0lUXFxpb3QtcmFjZXItYml0YnVja2V0XFxvbnNpdGVyYWNlclxcT25TaXRlUmFjZXJfdjJcXEFwcFxcb25zaXRlLXJhY2VyLWlvbmljL3NyY1xcYXBwXFxwYWdlc1xcc3RldWVydW5nXFxzdGV1ZXJ1bmcucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9zdGV1ZXJ1bmcvc3RldWVydW5nLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFBO0VBQ0EsZ0JBQUE7QUNDSjs7QURFRTtFQUNFLFNBQUE7RUFDQSxXQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSxnQ0FBQTtBQ0NKOztBREVFO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUNDSjs7QURJRSxnQkFBQTs7QUFFRjtFQUNFO0lBQ0Usa0JBQUE7SUFDQSxVQUFBO0lBQ0EsWUFBQTtFQ0ZGOztFRElBO0lBQ0UsYUFBQTtFQ0RGOztFREdBO0lBQ0UsVUFBQTtJQUNBLFlBQUE7SUFDQSxlQUFBO0VDQUY7O0VERUE7SUFDRSxrQkFBQTtJQUNBLFdBQUE7SUFDQSxXQUFBO0VDQ0Y7O0VEQ0E7SUFDRSxrQkFBQTtJQUNBLGdCQUFBO0VDRUY7O0VEQUE7SUFDRSxVQUFBO0lBQ0EsV0FBQTtJQUNBLGtCQUFBO0lBQ0EsT0FBQTtJQUNBLE1BQUE7SUFDQSxZQUFBO0VDR0Y7O0VEREE7SUFDRSxZQUFBO0lBQ0EsVUFBQTtJQUNBLGtCQUFBO0lBQ0EsT0FBQTtJQUNBLE1BQUE7SUFDQSxZQUFBO0VDSUY7QUFDRjs7QUREQSxrQkFBQTs7QUFFQTtFQUNFO0lBQ0Usa0JBQUE7SUFDQSxXQUFBO0lBQ0EsWUFBQTtJQUNBLGFBQUE7RUNFRjs7RURBQTtJQUNFLGtCQUFBO0lBQ0EsV0FBQTtFQ0dGOztFRERBO0lBQ0Usa0JBQUE7SUFDQSxnQkFBQTtFQ0lGOztFREZBO0lBQ0UsVUFBQTtJQUNBLFlBQUE7SUFDQSxhQUFBO0VDS0Y7O0VESEE7SUFDRSxrQkFBQTtJQUNBLFdBQUE7SUFDQSxXQUFBO0VDTUY7O0VESkE7SUFDRSxVQUFBO0lBQ0EsV0FBQTtJQUNBLGtCQUFBO0lBQ0EsUUFBQTtJQUNBLE1BQUE7SUFDQSxZQUFBO0VDT0Y7O0VETEE7SUFDRSxZQUFBO0lBQ0EsVUFBQTtJQUNBLGtCQUFBO0lBQ0EsU0FBQTtJQUNBLE1BQUE7SUFDQSxZQUFBO0VDUUY7QUFDRiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3N0ZXVlcnVuZy9zdGV1ZXJ1bmcucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLndlbGNvbWUtY2FyZCBpbWcge1xyXG4gICAgbWF4LWhlaWdodDogMzV2aDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgfVxyXG4gIFxyXG4gIC56b25lIHtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIGNvbG9yOiBibHVlO1xyXG4gICAgcmlnaHQ6IDA7XHJcbiAgICBib3R0b206IDA7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMCwgMCwgMC4xKTtcclxuICB9XHJcblxyXG4gICNidXR0b250eHR7XHJcbiAgICBmb250LXNpemU6IDE3cHg7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcclxuICB9XHJcblxyXG5cclxuXHJcbiAgLyogRm9yIHBvcnRyYWl0Ki9cclxuXHJcbkBtZWRpYSBzY3JlZW4gYW5kIChvcmllbnRhdGlvbjogcG9ydHJhaXQpIHtcclxuICAjYmFja2dyb3VuZFNreWxpbmV7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7IFxyXG4gICAgYm90dG9tOiA2JTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICB9XHJcbiAgI2JhY2tncm91bmRTa3lsaW5lTGFuZHNjYXBle1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxuICB9XHJcbiAgI3JvdGF0ZVRhY2hve1xyXG4gICAgd2lkdGg6IDYwJTsgXHJcbiAgICBtYXJnaW46IGF1dG87IFxyXG4gICAgbWFyZ2luLXRvcDogMTAlO1xyXG4gIH1cclxuICAjcG9zaXRpb25Db250QXJlYXtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsgXHJcbiAgICBib3R0b206IDEwJTsgXHJcbiAgICB3aWR0aDogMTAwJTtcclxuICB9XHJcbiAgI2JhY2tncm91bmRSZW1vdGV7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7IFxyXG4gICAgbWFyZ2luLXRvcDogLTQwJTtcclxuICB9XHJcbiAgI3pvbmVfam95c3RpY2sxe1xyXG4gICAgd2lkdGg6IDM1JTsgXHJcbiAgICBmbG9hdDpsZWZ0OyBcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsgXHJcbiAgICBsZWZ0OiAwOyBcclxuICAgIHRvcDogMDsgXHJcbiAgICBtYXJnaW46IGF1dG87XHJcbiAgfVxyXG4gICN6b25lX2pveXN0aWNrMntcclxuICAgIGZsb2F0OnJpZ2h0OyBcclxuICAgIHdpZHRoOiAzNSU7IFxyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlOyBcclxuICAgIGxlZnQ6IDA7IFxyXG4gICAgdG9wOiAwOyBcclxuICAgIG1hcmdpbjogYXV0bztcclxuICB9XHJcbn1cclxuXHJcbi8qIEZvciBsYW5kc2NhcGUgKi9cclxuXHJcbkBtZWRpYSBzY3JlZW4gYW5kIChvcmllbnRhdGlvbjogbGFuZHNjYXBlKSB7XHJcbiAgI2JhY2tncm91bmRTa3lsaW5le1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG4gIH1cclxuICAjYmFja2dyb3VuZFNreWxpbmVMYW5kc2NhcGV7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICB9XHJcbiAgI2JhY2tncm91bmRSZW1vdGV7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7IFxyXG4gICAgbWFyZ2luLXRvcDogLTIzJTtcclxuICB9XHJcbiAgI3JvdGF0ZVRhY2hve1xyXG4gICAgd2lkdGg6IDI1JTtcclxuICAgIG1hcmdpbjogYXV0bzsgXHJcbiAgICBtYXJnaW4tdG9wOiAwO1xyXG4gIH1cclxuICAjcG9zaXRpb25Db250QXJlYXtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsgXHJcbiAgICBib3R0b206IDEwJTsgXHJcbiAgICB3aWR0aDogMTAwJTtcclxuICB9XHJcbiAgI3pvbmVfam95c3RpY2sxe1xyXG4gICAgd2lkdGg6IDE3JTsgXHJcbiAgICBmbG9hdDpsZWZ0OyBcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsgXHJcbiAgICBsZWZ0OiA1JTsgXHJcbiAgICB0b3A6IDA7IFxyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gIH1cclxuICAjem9uZV9qb3lzdGljazJ7XHJcbiAgICBmbG9hdDpyaWdodDsgXHJcbiAgICB3aWR0aDogMTclOyBcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsgXHJcbiAgICByaWdodDogNSU7IFxyXG4gICAgdG9wOiAwOyBcclxuICAgIG1hcmdpbjogYXV0bztcclxuICB9XHJcblxyXG59IiwiLndlbGNvbWUtY2FyZCBpbWcge1xuICBtYXgtaGVpZ2h0OiAzNXZoO1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4uem9uZSB7XG4gIG1hcmdpbjogMDtcbiAgY29sb3I6IGJsdWU7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAwLCAwLCAwLjEpO1xufVxuXG4jYnV0dG9udHh0IHtcbiAgZm9udC1zaXplOiAxN3B4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgZm9udC1zdHlsZTogaXRhbGljO1xufVxuXG4vKiBGb3IgcG9ydHJhaXQqL1xuQG1lZGlhIHNjcmVlbiBhbmQgKG9yaWVudGF0aW9uOiBwb3J0cmFpdCkge1xuICAjYmFja2dyb3VuZFNreWxpbmUge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBib3R0b206IDYlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgfVxuXG4gICNiYWNrZ3JvdW5kU2t5bGluZUxhbmRzY2FwZSB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuXG4gICNyb3RhdGVUYWNobyB7XG4gICAgd2lkdGg6IDYwJTtcbiAgICBtYXJnaW46IGF1dG87XG4gICAgbWFyZ2luLXRvcDogMTAlO1xuICB9XG5cbiAgI3Bvc2l0aW9uQ29udEFyZWEge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBib3R0b206IDEwJTtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuXG4gICNiYWNrZ3JvdW5kUmVtb3RlIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgbWFyZ2luLXRvcDogLTQwJTtcbiAgfVxuXG4gICN6b25lX2pveXN0aWNrMSB7XG4gICAgd2lkdGg6IDM1JTtcbiAgICBmbG9hdDogbGVmdDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgbGVmdDogMDtcbiAgICB0b3A6IDA7XG4gICAgbWFyZ2luOiBhdXRvO1xuICB9XG5cbiAgI3pvbmVfam95c3RpY2syIHtcbiAgICBmbG9hdDogcmlnaHQ7XG4gICAgd2lkdGg6IDM1JTtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgbGVmdDogMDtcbiAgICB0b3A6IDA7XG4gICAgbWFyZ2luOiBhdXRvO1xuICB9XG59XG4vKiBGb3IgbGFuZHNjYXBlICovXG5AbWVkaWEgc2NyZWVuIGFuZCAob3JpZW50YXRpb246IGxhbmRzY2FwZSkge1xuICAjYmFja2dyb3VuZFNreWxpbmUge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuXG4gICNiYWNrZ3JvdW5kU2t5bGluZUxhbmRzY2FwZSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG5cbiAgI2JhY2tncm91bmRSZW1vdGUge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBtYXJnaW4tdG9wOiAtMjMlO1xuICB9XG5cbiAgI3JvdGF0ZVRhY2hvIHtcbiAgICB3aWR0aDogMjUlO1xuICAgIG1hcmdpbjogYXV0bztcbiAgICBtYXJnaW4tdG9wOiAwO1xuICB9XG5cbiAgI3Bvc2l0aW9uQ29udEFyZWEge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBib3R0b206IDEwJTtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuXG4gICN6b25lX2pveXN0aWNrMSB7XG4gICAgd2lkdGg6IDE3JTtcbiAgICBmbG9hdDogbGVmdDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgbGVmdDogNSU7XG4gICAgdG9wOiAwO1xuICAgIG1hcmdpbjogYXV0bztcbiAgfVxuXG4gICN6b25lX2pveXN0aWNrMiB7XG4gICAgZmxvYXQ6IHJpZ2h0O1xuICAgIHdpZHRoOiAxNyU7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHJpZ2h0OiA1JTtcbiAgICB0b3A6IDA7XG4gICAgbWFyZ2luOiBhdXRvO1xuICB9XG59Il19 */\"","\r\nimport { Component, NgZone } from '@angular/core';\r\nimport { BLE } from '@ionic-native/ble/ngx';\r\nimport { AlertController, ToastController } from '@ionic/angular';\r\nimport { Router, NavigationExtras } from '@angular/router';\r\nimport { create } from 'nipplejs';\r\nimport { identifierModuleUrl } from '@angular/compiler';\r\nimport { LoadingController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-steuerung',\r\n  templateUrl: './steuerung.page.html',\r\n  styleUrls: ['./steuerung.page.scss']\r\n})\r\n\r\nexport class SteuerungPage {\r\n  size :number = 110; \r\n  X :number;\r\n  Y :number;\r\n  _speed: string;\r\n  _steer: string;\r\n  connectbutton: string = \"Connect to Car\";\r\n  devices: any[] = [];\r\n  statusMessage: string;\r\n  peripheral: any = {};\r\n  services: string[] = [\"ae975c80-05f0-11ea-8d71-362b9e155667\"];\r\n\r\n  jsSpeed: any;\r\n  jsSteer: any;\r\n\r\n  deviceID: string;\r\n  characteristicID: string;\r\n\r\n  speed: number = 128; //motor off\r\n  steer: number = 90; // \r\n\r\n  counterSpeed: number = 0;\r\n  counterSteer: number = 0;\r\n  connected: boolean = false;\r\n\r\n  currentScreenOrientation:string;\r\n\r\n\r\n  constructor(private ble:BLE, private alertCtrl: AlertController, private ngZone: NgZone, private toastCtrl: ToastController, private router : Router, public loadingController: LoadingController) {\r\n    this.checkBluetooth();\r\n  }\r\n  async presentLoadingWithOptions() {\r\n    const loading = await this.loadingController.create({\r\n      spinner: null,\r\n      duration: 3000,\r\n      message: '<img src=\"assets/iotracer/Loading/pink.svg\" width=40px>' + \"  Connecting...\"\r\n    });\r\n    await loading.present();\r\n\r\n    const { role, data } = await loading.onDidDismiss();\r\n    console.log('Failed: ', role);\r\n  }\r\n\r\n  /*disconnectFromRacer(){\r\n    if(this.connected === true){\r\n      this.connectbutton = \"Connect to Car\";\r\n      this.ble.disconnect(this.peripheral.id).then(\r\n        device => this.onDeviceDisconnected(device),\r\n      );\r\n      this.router.navigate(['/']);\r\n    }else{\r\n      this.router.navigate(['/']);\r\n    }\r\n  }*/\r\n\r\n  //scan for BLE Devices with specific Service-uuid\r\n  Scan() {\r\n    this.devices = ['ae975c80-05f0-11ea-8d71-362b9e155667'];\r\n    this.checkBluetooth();\r\n    if(this.connected === false){\r\n      this.ble.isEnabled().then(\r\n        success => {\r\n          this.presentLoadingWithOptions();\r\n          //this.connectbutton = \"Disconnect Car\";\r\n        });\r\n      //connect to device with this serviceUID\r\n      this.ble.scan(this.devices, 15).subscribe( \r\n        //connect to your car if  service uuid is found during scanning\r\n        device => this.onDeviceDiscovered(device)\r\n      ); \r\n    }else{\r\n      //Discconect Device\r\n      this.connectbutton = \"Connect to Car\";\r\n      this.ble.disconnect(this.peripheral.id).then(\r\n        device => this.onDeviceDisconnected(device),\r\n        device => this.scanError(\"\")\r\n      );\r\n      this.showBleDisconnected(\"You are Disconnected from the T-Racer\");\r\n    }\r\n  }\r\n\r\n  checkBluetooth() {\r\n    this.ble.isEnabled().then(\r\n      success => {\r\n        this.showToast(\"Bluetooth is enabled\");\r\n      },\r\n      error => {\r\n        this.showError(\"Bluetooth is not enabled\");\r\n      }\r\n    );\r\n  }\r\n\r\n  //creats a popup with a bluetooth disconnect message\r\n  async showBleDisconnected(msg){\r\n    const alert = await this.alertCtrl.create({\r\n      header: \"Bluetooth\",\r\n      message: '<img src=\"assets/iotracer/Logos/disconnect.svg\">',\r\n      subHeader: msg,\r\n      buttons: [\"OK\"]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  async showError(error) {\r\n    const alert = await this.alertCtrl.create({\r\n      header: \"Error\",\r\n      message: '<img src=\"assets/iotracer/Icons/bluetooth.svg\">',\r\n      subHeader: error,\r\n      buttons: [\"OK\"]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  async showToast(msj) {\r\n    const toast = await this.toastCtrl.create({\r\n      message: msj,\r\n      duration: 1000\r\n    });\r\n    await toast.present();\r\n  }\r\n\r\n  async scanError(error) {\r\n    let toast = this.toastCtrl.create({\r\n      message: 'car not found ',\r\n      duration: 3000,\r\n      position: 'middle'\r\n    });\r\n    (await toast).present();\r\n  }\r\n\r\n  onDeviceDiscovered(device) {\r\n    console.debug('Discovered' + JSON.stringify(device,null,2));\r\n    this.connect2Device(device);\r\n    this.connectbutton = \"Disconnect Car\";\r\n  }\r\n\r\n  connect2Device(device) {\r\n    this.deviceID = device.id;\r\n    this.ble.connect(device.id).subscribe(\r\n      peripheral => this.onConnected(peripheral),\r\n      peripheral => this.onDeviceDisconnected(peripheral)\r\n    );\r\n  }\r\n\r\n  async onConnected(peripheral) {\r\n    let toast = this.toastCtrl.create({\r\n      message: 'Connected to ' + peripheral.name,\r\n      duration: 3000,\r\n      position: 'bottom'\r\n    });\r\n    (await toast).present();\r\n    this.peripheral = peripheral;\r\n    this.connected = true;\r\n\r\n    this.deviceID = peripheral.id;\r\n\r\n    // Static characteristicID for both plattforms\r\n    this.characteristicID =  \"b81f189c-05f0-11ea-8d71-362b9e155667\";\r\n\r\n    // For iOS\r\n    //this.characteristicID =  peripheral.characteristics[0].characteristic; // \"b81f189c-05f0-11ea-8d71-362b9e155667\";\r\n\r\n    // For Android\r\n    //this.characteristicID =  peripheral.characteristics[4].characteristic;\r\n\r\n    console.log(\"Printing all characteristics in peripheral.characteristics[]\");\r\n    for(let i of peripheral.characteristics){\r\n      console.log(\"Characteristic: \"+JSON.stringify(i));\r\n    }\r\n\r\n\r\n    this.jsSpeed.destroy();\r\n    this.jsSteer.destroy();\r\n\r\n    var joystickSpeed = create( {\r\n      mode: 'static',\r\n      color: 'black',\r\n      fadeTime: 255,\r\n      size: this.size,\r\n      lockY: false,\r\n      zone: document.getElementById('zone_joystick1'),\r\n      position: {\r\n       left: '50%',\r\n       top: '50%'\r\n     }\r\n    });\r\n\r\n    var joystickSteer = create( {\r\n      mode: 'static',\r\n      color: 'black',\r\n      fadeTime: 255,\r\n      size: this.size,\r\n      lockX: false,\r\n      zone: document.getElementById('zone_joystick2'),\r\n      position: {\r\n       left: '50%',\r\n       top: '50%'\r\n     }\r\n    });\r\n\r\n    this.jsSpeed = joystickSpeed;\r\n    this.jsSteer = joystickSteer;\r\n    this.jsSpeed.on('end',  (event, data) => this.stop_motor(event, data));\r\n    this.jsSpeed.on('move',  (event, data) => this.move_speed(event, data));\r\n  \r\n    this.jsSteer.on('end',  (event, data) => this.steer_straighton(event, data));\r\n    this.jsSteer.on('move',  (event, data) => this.move_steer(event, data));\r\n  }\r\n\r\n  async onDeviceDisconnected(peripheral) {\r\n    /*let toast = this.toastCtrl.create({\r\n      message: 'Disconnected from ' + peripheral.name,\r\n      duration: 3000,\r\n      position: 'bottom'\r\n    });\r\n    (await toast).present();*/\r\n\r\n    this.connected = false;\r\n    this.jsSpeed.destroy();\r\n    this.jsSteer.destroy();\r\n    this.router.navigate(['pages/steuerung']);\r\n  }\r\n\r\n  //write need if we have twi joysticks\r\n  sendValue(){\r\n    var value = this.speed +\",\"+this.steer;\r\n\r\n    console.log(\"Sending: deviceID(\"+this.deviceID+\") services(\"+this.services[0]+\") characteristicID(\"+this.characteristicID+\") buffer(\"+value.toString()+\")\");\r\n\r\n    this.ble.writeWithoutResponse(this.deviceID, this.services[0], this.characteristicID, this.stringToBytes(value.toString()));\r\n  }\r\n\r\n  stringToBytes(string) {\r\n    var array = new Uint8Array(string.length);\r\n    for (var i = 0, l = string.length; i < l; i++) {\r\n        array[i] = string.charCodeAt(i);\r\n     }\r\n     return array.buffer;\r\n    }\r\n\r\n    //init joysticks in view init\r\n    ngAfterViewInit() {\r\n      var joystickSpeed = create( {\r\n        mode: 'static',\r\n        color: 'black',\r\n        fadeTime: 255,\r\n        size: this.size,\r\n        lockY: true, //block x achsis\r\n        lockX: true, //block y achsis\r\n        zone: document.getElementById('zone_joystick1'),\r\n        position: {\r\n         left: '50%',\r\n         top: '50%'\r\n       }\r\n      });\r\n\r\n      var joystickSteer = create( {\r\n        mode: 'static',\r\n        color: 'black',\r\n        fadeTime: 255,\r\n        size: this.size,\r\n        lockX: true, //block x achsis\r\n        lockY: true, //block y achsis\r\n        zone: document.getElementById('zone_joystick2'),\r\n        position: {\r\n         left: '50%',\r\n         top: '50%'\r\n       }\r\n      });\r\n\r\n      this.jsSpeed = joystickSpeed;\r\n      this.jsSteer = joystickSteer\r\n\r\n      this.jsSpeed = joystickSpeed;\r\n      this.jsSteer = joystickSteer;\r\n\r\n    }\r\n\r\n    //stop car\r\n    stop_motor(event, data){\r\n      var speed=128;\r\n      this.speed = +speed;\r\n      this.sendValue();\r\n      console.log(\"Stopping car with value \"+speed);\r\n    }\r\n\r\n    //steering car: straight on\r\n    steer_straighton(event, data){\r\n      var steer=90;\r\n      this.steer = +steer;\r\n      this.sendValue();\r\n      console.log(\"steering car: straight on \"+steer);\r\n    }\r\n\r\n    move_speed(event, data){\r\n      var nip_size=this.size;\r\n      var max_rangeY=255;\r\n      var min_rangeY=0;\r\n\r\n      if(((data.angle.degree<90)&&(data.angle.degree>0))||((data.angle.degree<360)&&(data.angle.degree>270))){\r\n        var X=Math.cos(data.angle.radian)*data.distance;\r\n        var Y=Math.sin(data.angle.radian)*data.distance;\r\n       }\r\n       if(((data.angle.degree<=180)&&(data.angle.degree>=90))||((data.angle.degree<=270)&&(data.angle.degree>=180))){\r\n         var X=-Math.cos(Math.PI-data.angle.radian)*data.distance;\r\n         var Y=Math.sin(Math.PI-data.angle.radian)*data.distance;\r\n       }\r\n\r\n      var speed=((Y+nip_size/2)*(max_rangeY-min_rangeY)/nip_size+min_rangeY).toFixed(0);\r\n      this.speed = +speed;\r\n      //this._speed = speed.toString();\r\n      \r\n      //reduce traffic\r\n      if(this.counterSpeed === 10){\r\n        console.log(\"Sending speed to car \"+speed);\r\n        this.sendValue();\r\n        this.counterSpeed = 0;\r\n      }\r\n      \r\n      this.counterSpeed++;\r\n    }\r\n\r\n    move_steer(event, data){\r\n      var nip_size=this.size;\r\n      var max_rangeX=0;\r\n      var min_rangeX=180;\r\n\r\n      if(((data.angle.degree<90)&&(data.angle.degree>=0))||((data.angle.degree<360)&&(data.angle.degree>270))){\r\n        var X=Math.cos(data.angle.radian)*data.distance;\r\n       }\r\n       if(((data.angle.degree<=180)&&(data.angle.degree>=90))||((data.angle.degree<=270)&&(data.angle.degree>=180))){\r\n         var X=-Math.cos(Math.PI-data.angle.radian)*data.distance;\r\n       }\r\n\r\n       var steer=((X+nip_size/2)*(max_rangeX-min_rangeX)/nip_size+min_rangeX).toFixed(0);\r\n       this.steer = +steer;\r\n       //this._steer = steer.toString();\r\n       \r\n      //reduce traffic\r\n      if(this.counterSteer === 5){\r\n        this.sendValue();\r\n        this.counterSteer = 0;\r\n      }\r\n      this.counterSteer++;\r\n    }\r\n  }\r\n\r\n"],"sourceRoot":""}